<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>

<% if @name_node %>
  <property>
    <name>fs.default.name</name>
    <value>hdfs://<%= @name_node[:primary_ipaddress] %>:9000/</value>
  </property>
<% end %>

  <property>
    <name>hadoop.tmp.dir</name>
    <value><%= node[:hadoop][:tmp_dir].first %>/${user.name}</value>
  </property>

  <property>
    <name>fs.s3.awsAccessKeyId</name>
    <value><%= node[:hadoop][:fs][:s3][:access_key] %></value>
  </property>

  <property>
    <name>fs.s3.awsSecretAccessKey</name>
    <value><%= node[:hadoop][:fs][:s3][:secret_key] %></value>
  </property>

  <property>
    <name>fs.s3n.awsAccessKeyId</name>
    <value><%= node[:hadoop][:fs][:s3][:access_key] %></value>
  </property>

  <property>
    <name>fs.s3n.awsSecretAccessKey</name>
    <value><%= node[:hadoop][:fs][:s3][:secret_key] %></value>
  </property>

  <property>
    <name>fs.inmemory.size.mb</name>
    <value><%= node[:hadoop][:fs][:inmemory] %></value>
  </property>

</configuration>
