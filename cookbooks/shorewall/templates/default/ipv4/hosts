#
# Shorewall version 4 - Hosts file
#
# For information about entries in this file, type "man shorewall-hosts"
#
# The manpage is also online at
# http://www.shorewall.net/manpages/shorewall-hosts.html
#
###############################################################################
#ZONE	HOST(S)					OPTIONS

# chef nodes
<% node.run_state[:nodes].each do |n| %>
<% if n[:primary_ipaddress] %>
<% if node[:primary_interface_bridged] %>
nodes <%= node[:primary_interface_bridged] %>:<%= n[:primary_ipaddress] %>
<% else %>
nodes <%= node[:primary_interface] %>:<%= n[:primary_ipaddress] %>
<% end %>
<% end %>
<% end %>

<% node[:shorewall][:hosts].each do |name, host| %>
# <%= name %>
<%= [ :zone, :hosts, :options ].map { |a| host[a] }.join(" ") %>
<% end %>
